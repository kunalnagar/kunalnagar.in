<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Learn how to sign commits using your GPG key" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <title>Git Verified Commits - Kunal Nagar</title>
    <meta
      property="og:image"
      content="https://kunalnagar.in/assets/img/post.png"
    />
    <meta property="og:title" content="Git Verified Commits - Kunal Nagar" />
    <meta property="og:description" content="Learn how to sign commits using your GPG key" />
    <meta property="og:url" content="https://kunalnagar.in/blog/git-verified-commits/" />
    <meta property="og:type" content="article" />
    <meta name="robots" content="index, follow" />
    <link rel="preload" as="style" href="/assets/css/highlighting.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
    <script
      data-ad-client="ca-pub-7546382368623535"
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    ></script>
  </head>
  <body>
    <main>
      <nav>
  <ul>
    <li class="brand">
      <a title="Home" href="/" class="d--flex"
        ><svg
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="35px"
          height="35px"
          viewBox="0 0 412.000000 416.000000"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0.000000,416.000000) scale(0.100000,-0.100000)"
            fill="#000000"
            stroke="none"
          >
            <path
              d="M0 2070 l0 -2070 2060 0 2060 0 0 2070 0 2070 -2060 0 -2060 0 0
     -2070z m1780 296 c0 -215 4 -377 9 -380 5 -4 18 5 28 18 10 13 168 184 351
     380 l333 356 90 0 c51 0 89 -4 87 -9 -1 -5 -109 -126 -239 -268 -321 -351
     -305 -332 -292 -351 5 -10 134 -181 287 -382 152 -201 276 -368 276 -372 0 -5
     -41 -8 -90 -8 l-90 0 -251 336 c-138 184 -254 334 -257 332 -4 -2 -60 -58
     -124 -124 l-118 -122 0 -211 0 -211 -85 0 -85 0 0 695 0 695 85 0 85 0 0 -374z"
            />
          </g></svg
      ></a>
    </li>
    <li><a href="/foss">Open Source</a></li>
    <li><a href="/blog">Blog</a></li>
  </ul>
  <button type="button" id="btn_color_scheme" title="Toggle Color Scheme">
    Dark
  </button>
</nav>

      <div class="page-blog-single">
        <h1>Git Verified Commits</h1>
        <time>July 31, 2019</time>
        <article><p>Verified or Signed commits act as a source of trust in open-source development. It‚Äôs a way for people to know that the code came from a trusted source. Popular git hosting providers like GitHub, Bitbucket and GitLab have signed commits built into their interface so people can easily verify the authenticity of the repo. Here‚Äôs an example of how it looks on GitHub:</p>

<!-- prettier-ignore -->
<p><a href="https://i.imgur.com/2ohqgII.png" aria-label="Screenshot showing a verified badge next to commits on GitHub" data-lightbox="https://i.imgur.com/2ohqgII.png" class="lightbox-img">
  <img src="https://i.imgur.com/2ohqgII.png" alt="Screenshot showing a verified badge next to commits on GitHub" />
</a></p>

<h2 id="add-a-gpg-key-to-your-account">Add a GPG key to your account</h2>

<p>You can use GPG to sign commits with your GPG key. For more information on GPG, go <a href="https://gnupg.org/">here</a>.</p>

<p>For the sake of this article, we will be dealing with verified commits on GitHub. We will also assume that you have a GPG key.</p>

<p>GitHub uses <a href="https://www.openpgp.org/">OpenPGP</a> libraries to confirm that your locally signed commits and tags are cryptographically verifiable against a public key that you have added to your GitHub account.</p>

<!-- prettier-ignore -->
<p><a href="https://i.imgur.com/FvSL0aC.png" aria-label="Screenshot showing GPG keys section in GitHub settings" data-lightbox="https://i.imgur.com/FvSL0aC.png" class="lightbox-img">
  <img src="https://i.imgur.com/FvSL0aC.png" alt="Screenshot showing GPG keys section in GitHub settings" />
</a></p>

<h2 id="tell-git-to-use-your-gpg-key">Tell Git to use your GPG key</h2>

<p>After adding the public GPG key to your GitHub account, you need to tell <code class="language-plaintext highlighter-rouge">git</code> on your machine to use that key to sign commits. But first, let‚Äôs get a list of keys on your account using:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nv">$ </span>gpg <span class="nt">--list-secret-keys</span> <span class="nt">--keyid-format</span> LONG

/home/kunal/.gnupg/pubring.kbx
<span class="nt">------------------------------</span>
sec   rsa4096/ABD83AC02AAC0953 2019-07-31 <span class="o">[</span>SC] <span class="o">[</span>expires: 2035-07-27]
      xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
uid                 <span class="o">[</span> unknown] Kunal Nagar &lt;knlnagar@gmail.com&gt;
ssb   rsa4096/xxxxxxxxxxxxxxxx 2019-07-31 <span class="o">[</span>E] <span class="o">[</span>expires: 2035-07-27]</code></pre></figure>

<p>In the above example, my public key is <code class="language-plaintext highlighter-rouge">ABD83AC02AAC0953</code> and we‚Äôll use that:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nv">$ </span>git config <span class="nt">--global</span> user.signingkey ABD83AC02AAC0953</code></pre></figure>

<h2 id="signing-your-commit">Signing your commit</h2>

<p>When you‚Äôre ready to commit your work, just add the <code class="language-plaintext highlighter-rouge">-S</code> flag to your commit command:</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="nt">-S</span> <span class="s2">"Testing signed commits"</span></code></pre></figure>

<p>If your key has a passphrase, you‚Äôll be asked to enter it now.</p>

<p>That‚Äôs it! Push your commit and you can see the verified commit on your git hosting provider.</p>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://help.github.com/en/articles/managing-commit-signature-verification">Managing Commit Signature Verification (GitHub Knowledge Base)</a></li>
</ul>
</article>
      </div>
    </main>
    <footer>
  <div class="cookie-monster--shell">
    <div class="cookie-monster--notice">
      <h4>OM NOM NOM</h4>
      <p>This site gots cookies üç™</p>
      <button type="button" class="cookie-monster--notice--button">
        Oh-kay.
      </button>
    </div>
    <button type="button" class="cookie-monster--button" title="Boop me.">
      <img
        src="/assets/img/cookie-monster.png"
        alt="Cookie Monster"
        class="cookie-monster--img"
      />
    </button>
  </div>
  <script src="/assets/js/main-bundle.js"></script>
</footer>

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/css/lightbox.min.css"
    />
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.1/js/lightbox.min.js"
      async
      defer
    ></script>
  </body>
</html>
